<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Velocity App</title>

<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#f5f5f7">

<style>
body{
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto;
    background:#f5f5f7;
    display:flex;
    justify-content:center;
}

.container{
    width:100%;
    max-width:420px;
    padding:20px;
}

.card{
    background:white;
    border-radius:20px;
    padding:20px;
    box-shadow:0 10px 25px rgba(0,0,0,0.08);
}

h1{
    font-size:20px;
    text-align:center;
    margin-bottom:20px;
}

.section-title{
    font-size:13px;
    color:#888;
    margin-bottom:8px;
}

input{
    width:100%;
    padding:12px;
    margin-bottom:10px;
    border-radius:12px;
    border:1px solid #ddd;
    font-size:15px;
    outline:none;
}

input:focus{
    border:1px solid #0071e3;
}

button{
    width:100%;
    padding:12px;
    border:none;
    border-radius:14px;
    background:#0071e3;
    color:white;
    font-size:15px;
    cursor:pointer;
    margin-top:10px;
}

button:active{
    transform:scale(0.98);
}

.result-box{
    margin-top:20px;
    background:#fafafa;
    padding:15px;
    border-radius:15px;
    font-size:14px;
}

.result-item{
    display:flex;
    justify-content:space-between;
    margin-bottom:6px;
}
</style>
</head>

<body>

<div class="container">
<div class="card">

<h1>Velocity (f/min)</h1>

<div class="section-title">Before Correction</div>

<input type="number" id="v1" placeholder="Valor 1">
<input type="number" id="v2" placeholder="Valor 2">
<input type="number" id="v3" placeholder="Valor 3">

<button onclick="calcular()">Calcular</button>

<div class="result-box">
<div class="result-item">
<span>Corrected 1</span>
<span id="c1">0</span>
</div>
<div class="result-item">
<span>Corrected 2</span>
<span id="c2">0</span>
</div>
<div class="result-item">
<span>Corrected 3</span>
<span id="c3">0</span>
</div>

<hr>

<div class="result-item">
<strong>VPROM</strong>
<strong id="vprom">0</strong>
</div>

<div class="result-item">
<strong>σ</strong>
<strong id="sigma">0</strong>
</div>
</div>

</div>
</div>

<script>
function calcular(){

    let v1=parseFloat(document.getElementById("v1").value)||0;
    let v2=parseFloat(document.getElementById("v2").value)||0;
    let v3=parseFloat(document.getElementById("v3").value)||0;

    let valores=[v1,v2,v3];

    // VPROM
    let promedio=(v1+v2+v3)/3;

    // Corrección automática (tu lógica original)
    let corregidos=valores.map(v=>v-promedio);

    // Desviación estándar
    let suma=corregidos.reduce((acc,v)=>acc+Math.pow(v,2),0);
    let sigma=Math.sqrt(suma/3);

    // Mostrar resultados
    document.getElementById("c1").textContent=corregidos[0].toFixed(2);
    document.getElementById("c2").textContent=corregidos[1].toFixed(2);
    document.getElementById("c3").textContent=corregidos[2].toFixed(2);

    document.getElementById("vprom").textContent=promedio.toFixed(2);
    document.getElementById("sigma").textContent=sigma.toFixed(2);
}

// Registrar Service Worker
if("serviceWorker" in navigator){
    navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
